(function(){var t={3841:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.searchParams.categoryName?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.categoryName)),a("i",{on:{click:t.removeCategoryName}},[t._v("×")])]):t._e(),t.searchParams.keyword?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.keyword)),a("i",{on:{click:t.removeKeyword}},[t._v("×")])]):t._e(),t.searchParams.trademark?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.trademark.split(":")[1])),a("i",{on:{click:t.removeTrademark}},[t._v("×")])]):t._e(),t._l(t.searchParams.props,(function(e){return a("li",{key:e,staticClass:"with-x"},[t._v(t._s(e.split(":")[1])),a("i",{on:{click:function(a){return t.removeAttr(e)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{sentTrademarkName:t.getTrademark,sendAttr:t.getAttr}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:t.isOne?"active":"",on:{click:function(e){return t.sortEvent("1")}}},[a("a",{attrs:{href:"javascript:;"}},[t._v("综合"),t.isOne?a("span",{staticClass:"iconfont",class:t.isDesc?"icon-down":"icon-up"}):t._e()])]),a("li",{class:t.isTwo?"active":"",on:{click:function(e){return t.sortEvent("2")}}},[a("a",{attrs:{href:"javascript:;"}},[t._v("价格"),t.isTwo?a("span",{staticClass:"iconfont",class:t.isDesc?"icon-down":"icon-up"}):t._e()])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(e){return a("li",{key:e.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:"/detail/"+e.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.defaultImg,expression:"good.defaultImg"}],staticStyle:{width:"100%"}})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(e.price))])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:e.title}},[t._v(t._s(e.title))])]),a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v(t._s(e.hotScore))]),t._v("人评价")])]),t._m(1,!0)])])})),0)]),a("MyPagination",{attrs:{pageNo:t.searchList.pageNo,pageSize:t.searchList.pageSize,total:t.searchList.total,continue:5},on:{getPageNO:t.getPageNo}})],1)],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=a(4665),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(e){return a("li",{key:e.tmId,staticStyle:{cursor:"pointer","margin-right":"10px"},on:{click:function(a){return t.addTrademark(e)}}},[t._v(t._s(e.tmName))])})),0)]),t._m(0)]),t._l(t.attrsList,(function(e){return a("div",{key:e.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(e.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(e.attrValueList,(function(r){return a("li",{key:r},[a("a",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.attrEvent(e,r)}}},[t._v(t._s(r))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],c={name:"SearchSelector",computed:{...(0,i.Se)({goodsList:"search/goodsList",attrsList:"search/attrsList",trademarkList:"search/trademarkList"})},methods:{addTrademark(t){this.$emit("sentTrademarkName",t)},attrEvent(t,e){this.$emit("sendAttr",t,e)}}},l=c,u=a(1001),d=(0,u.Z)(l,n,o,!1,null,"4ba89729",null),m=d.exports,h={data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}}},name:"MySearch",components:{SearchSelector:m},beforeMount(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted(){this.getData()},computed:{...(0,i.rn)({searchList:t=>t.search.SearchList}),...(0,i.Se)({goodsList:"search/goodsList",attrsList:"search/attrsList",trademarkList:"search/trademarkList"}),isOne(){return 1==this.searchParams.order.split(":")[0]},isTwo(){return 2==this.searchParams.order.split(":")[0]},isDesc(){return"desc"==this.searchParams.order.split(":")[1]}},methods:{getData(){this.$store.dispatch("search/getSearchList",this.searchParams)},removeCategoryName(){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.searchParams.categoryName=void 0,this.getData(),this.$router.push({name:"search",params:this.$route.params})},removeKeyword(){this.searchParams.keyword=void 0,this.getData(),this.$bus.$emit("clear"),this.$router.push({name:"search",query:this.$route.query})},getTrademark(t){let e=`${t.tmId}:${t.tmName}`;this.searchParams.trademark=e,this.getData()},removeTrademark(){this.searchParams.trademark=void 0,this.getData()},getAttr(t,e){let a=`${t.attrId}:${e}:${t.attrName}`;-1===this.searchParams.props.indexOf(a)&&(this.searchParams.props.push(a),this.getData())},removeAttr(t){this.searchParams.props=this.searchParams.props.filter((e=>e!==t)),this.getData()},sortEvent(t){let e=this.searchParams.order.split(":")[0],a=this.searchParams.order.split(":")[1],r="";t==e?(r=`${e}:${"desc"==a?"asc":"desc"}`,this.searchParams.order=r):(r=`${t}:${a}`,this.searchParams.order=r),this.getData()},getPageNo(t){this.searchParams.pageNo=t,this.getData()}},watch:{$route:{handler(){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getData(),this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0}}}},p=h,g=(0,u.Z)(p,r,s,!1,null,"378bd36b",null),f=g.exports},3131:function(){},104:function(t,e,a){"use strict";a.d(e,{Qj:function(){return E},Fu:function(){return y},ix:function(){return h},OG:function(){return k},cG:function(){return v},F_:function(){return C},_F:function(){return g},iF:function(){return p},nv:function(){return A},sV:function(){return b},kd:function(){return $},nq:function(){return P},z$:function(){return L},$l:function(){return T},yq:function(){return w},uf:function(){return S},FU:function(){return I},BA:function(){return f},y1:function(){return _},z:function(){return N}});a(1703);var r=a(6166),s=a.n(r),i=a(9879),n=a.n(i),o=a(1555),c=a(9166);const l=s().create({baseURL:"http://gmall-h5-api.atguigu.cn/api",timeout:5e3});l.interceptors.request.use((t=>(o.Z.state.userUuid&&(t.headers.userTempId=o.Z.state.userUuid),c.Z.state.token&&(t.headers.token=c.Z.state.token),n().start(),t)),(t=>{console.log(t)})),l.interceptors.response.use((t=>(n().done(),t.data)),(t=>Promise.reject(new Error(t))));var u=l;const d=s().create({baseURL:"/mock",timeout:5e3});d.interceptors.request.use((t=>(n().start(),t)),(t=>{console.log(t)})),d.interceptors.response.use((t=>(n().done(),t.data)),(t=>Promise.reject(new Error(t))));var m=d;const h=()=>u({url:"/product/getBaseCategoryList",method:"GET"}),p=()=>m({url:"/banner",method:"GET"}),g=()=>m({url:"/floor",method:"GET"}),f=t=>u({url:"/list",method:"POST",data:t}),v=t=>u({url:`/item/${t}`,method:"GET"}),y=(t,e)=>u({url:`/cart/addToCart/${t}/${e}`,method:"POST"}),_=()=>u({url:"/cart/cartList",method:"GET"}),C=t=>u({url:`/cart/deleteCart/${t}`,method:"DELETE"}),k=(t,e)=>u({url:`/cart/checkCart/${t}/${e}`,method:"GET"}),b=t=>u({url:`/user/passport/sendCode/${t}`,method:"GET"}),I=t=>u({url:"/user/passport/register",method:"POST",data:t}),w=t=>u({url:"/user/passport/login",method:"POST",data:t}),L=()=>u({url:"/user/passport/auth/getUserInfo",method:"GET"}),S=()=>u({url:"/user/passport/logout",method:"GET"}),N=()=>u({url:"/order/auth/trade",method:"GET"}),E=()=>m({url:"/address",method:"GET"}),P=(t,e)=>u({url:`/order/auth/submitOrder?tradeNo=${t}`,data:e,method:"POST"}),T=t=>u({url:`/payment/weixin/createNative/${t}`,method:"GET"}),A=t=>u({url:`/payment/weixin/queryPayStatus/${t}`,method:"GET"}),$=(t,e)=>u({url:`/order/auth/${t}/${e}`,method:"GET"})},3473:function(t,e,a){"use strict";var r=a(9299),s=a.n(r),i=a(8935),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("MyHeader"),a("router-view"),a("MyFooter",{directives:[{name:"show",rawName:"v-show",value:t.$route.meta.show,expression:"$route.meta.show"}]})],1)},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"header"},[r("div",{staticClass:"top"},[r("div",{staticClass:"container"},[r("div",{staticClass:"loginList"},[r("p",[t._v("尚品汇欢迎您！")]),t.userInfo.name?r("p",[r("span",[t._v("用户 : "+t._s(t.userInfo.name))]),t._v("       "),r("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出登录")])]):r("p",[r("span",[t._v("请")]),r("router-link",{attrs:{to:"/login"}},[t._v("登录")]),r("router-link",{staticClass:"register",attrs:{to:"/register"}},[t._v("免费注册")])],1)]),r("div",{staticClass:"typeList"},[r("router-link",{attrs:{to:"/center"}},[t._v("我的订单")]),r("router-link",{attrs:{to:"/shopcart"}},[t._v("我的购物车")]),r("router-link",{attrs:{to:"/"}},[t._v("我的尚品汇")]),r("a",{attrs:{href:"javascript:;"}},[t._v("尚品汇会员")]),r("a",{attrs:{href:"javascript:;"}},[t._v("企业采购")]),r("a",{attrs:{href:"javascript:;"}},[t._v("关注尚品汇")]),r("a",{attrs:{href:"javascript:;"}},[t._v("合作招商")]),r("a",{attrs:{href:"javascript:;"}},[t._v("商家后台")])],1)])]),r("div",{staticClass:"bottom"},[r("h1",{staticClass:"logoArea"},[r("router-link",{staticClass:"logo",attrs:{to:"/",title:"尚品汇"}},[r("img",{attrs:{src:a(587),alt:""}})])],1),r("div",{staticClass:"searchArea"},[r("form",{staticClass:"searchForm",attrs:{action:"###"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContain,expression:"searchContain"}],staticClass:"input-error input-xxlarge",attrs:{type:"text",id:"autocomplete"},domProps:{value:t.searchContain},on:{input:function(e){e.target.composing||(t.searchContain=e.target.value)}}}),r("button",{staticClass:"sui-btn btn-xlarge btn-danger",attrs:{type:"button"},on:{click:t.toSearch}},[t._v("搜索")])])])])])])},l=[],u=a(9071),d=a(4665),m={name:"MyHeader",data(){return{searchContain:""}},mounted(){this.$bus.$on("clear",(()=>{this.searchContain=""}))},methods:{toSearch(){let t={name:"search",params:{keyword:this.searchContain||void 0}};this.$route.query&&(t.query=this.$route.query),this.$router.push(t)},async logout(){try{await this.$store.dispatch("user/logout"),(0,u.gy)(),this.$router.replace("/home")}catch(t){alert(t)}}},computed:{...(0,d.rn)("user",["userInfo"])}},h=m,p=a(1001),g=(0,p.Z)(h,c,l,!1,null,"ee91185a",null),f=g.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"footer"},[a("div",{staticClass:"footer-container"},[a("div",{staticClass:"footerList"},[a("div",{staticClass:"footerItem"},[a("h4",[t._v("购物指南")]),a("ul",{staticClass:"footerItemCon"},[a("li",[t._v("购物流程")]),a("li",[t._v("会员介绍")]),a("li",[t._v("生活旅行/团购")]),a("li",[t._v("常见问题")]),a("li",[t._v("购物指南")])])]),a("div",{staticClass:"footerItem"},[a("h4",[t._v("配送方式")]),a("ul",{staticClass:"footerItemCon"},[a("li",[t._v("上门自提")]),a("li",[t._v("211限时达")]),a("li",[t._v("配送服务查询")]),a("li",[t._v("配送费收取标准")]),a("li",[t._v("海外配送")])])]),a("div",{staticClass:"footerItem"},[a("h4",[t._v("支付方式")]),a("ul",{staticClass:"footerItemCon"},[a("li",[t._v("货到付款")]),a("li",[t._v("在线支付")]),a("li",[t._v("分期付款")]),a("li",[t._v("邮局汇款")]),a("li",[t._v("公司转账")])])]),a("div",{staticClass:"footerItem"},[a("h4",[t._v("售后服务")]),a("ul",{staticClass:"footerItemCon"},[a("li",[t._v("售后政策")]),a("li",[t._v("价格保护")]),a("li",[t._v("退款说明")]),a("li",[t._v("返修/退换货")]),a("li",[t._v("取消订单")])])]),a("div",{staticClass:"footerItem"},[a("h4",[t._v("特色服务")]),a("ul",{staticClass:"footerItemCon"},[a("li",[t._v("夺宝岛")]),a("li",[t._v("DIY装机")]),a("li",[t._v("延保服务")]),a("li",[t._v("尚品汇E卡")]),a("li",[t._v("尚品汇通信")])])]),a("div",{staticClass:"footerItem"},[a("h4",[t._v("帮助中心")])])]),a("div",{staticClass:"copyright"},[a("ul",{staticClass:"helpLink"},[a("li",[t._v("关于我们 "),a("span",{staticClass:"space"})]),a("li",[t._v("联系我们 "),a("span",{staticClass:"space"})]),a("li",[t._v("关于我们 "),a("span",{staticClass:"space"})]),a("li",[t._v("商家入驻 "),a("span",{staticClass:"space"})]),a("li",[t._v("营销中心 "),a("span",{staticClass:"space"})]),a("li",[t._v("友情链接 "),a("span",{staticClass:"space"})]),a("li",[t._v("关于我们 "),a("span",{staticClass:"space"})]),a("li",[t._v("营销中心 "),a("span",{staticClass:"space"})]),a("li",[t._v("友情链接 "),a("span",{staticClass:"space"})]),a("li",[t._v("关于我们")])]),a("p",[t._v("地址:北京市昌平区宏福科技园综合楼6层")]),a("p",[t._v("京ICP备19006430号")])])])])])}],_=a(3131),C=a.n(_),k=C(),b=(0,p.Z)(k,v,y,!1,null,"65d817b1",null),I=b.exports,w={name:"App",components:{MyHeader:f,MyFooter:I},methods:{show(){console.log(this.$route)}},mounted(){this.$store.dispatch("categorylist")}},L=w,S=(0,p.Z)(L,n,o,!1,null,null,null),N=S.exports,E=a(2809),P=a(9166),T=a(104);const A={async categorylist(t){const{data:e}=await(0,T.ix)();t.commit("category",e)},async getBannerList(t){const e=await(0,T.iF)();200===e.code&&t.commit("GETBANNERLIST",e.data)},async getFloorList(t){const e=await(0,T._F)();200===e.code&&t.commit("GETFLOORLIST",e.data)}},$={category(t,e){t.CategoryList=e},GETBANNERLIST(t,e){t.BannerList=e},GETFLOORLIST(t,e){t.FloorList=e}},x={CategoryList:[],BannerList:[],FloorList:[]},O={};var j={actions:A,mutations:$,state:x,getters:O};const G={async getSearchList(t,e={}){const a=await(0,T.BA)(e);200===a.code?t.commit("GETSEARCHLIST",a.data):alert("获取信息失败")}},D={GETSEARCHLIST(t,e){t.SearchList=e}},U={SearchList:[]},Z={goodsList(t){return t.SearchList.goodsList||[]},attrsList(t){return t.SearchList.attrsList||[]},trademarkList(t){return t.SearchList.trademarkList||[]}};var F={namespaced:!0,actions:G,mutations:D,state:U,getters:Z},R=a(1555);a(1703);const V={shopCart:[]},B={async addShopCart(t){const e=await(0,T.y1)();200==e.code?t.commit("ADDSHOPCART",e.data):alert("获取信息失败")},async updateShopCart(t,e){const a=await(0,T.Fu)(e.skuId,e.skuNum);return 200==a.code?"添加成功":Promise.reject(new Error("添加失败"))},async delShopCart(t,e){const a=await(0,T.F_)(e);return 200==a.code?"删除成功":Promise.reject(new Error("删除失败"))},delAllShopCart(t){let e=t.getters.cartList.filter((t=>t.isChecked));if(!e[0])return;let a=[];return e.forEach((e=>{const r=t.dispatch("delShopCart",e.skuId);a.push(r)})),Promise.all(a)},async changeChecked(t,e){const a=await(0,T.OG)(e.skuId,e.isChecked);return 200==a.code?"ok":Promise.reject(new Error("操作失败"))},allIsChecked(t,e){let a=t.getters.cartList.filter((t=>t.isChecked==!e)),r=[];if(a[0])return a.forEach((e=>{let a=0==e.isChecked?1:0;const s=t.dispatch("changeChecked",{skuId:e.skuId,isChecked:a});r.push(s)})),Promise.all(r)}},M={ADDSHOPCART(t,e){t.shopCart=e}},q={cartList(t){return t.shopCart[0]?.cartInfoList||[]},sumPrice(t){if(!t.shopCart[0]?.cartInfoList)return[];let e=0;return t.shopCart[0]?.cartInfoList.forEach((t=>{t.isChecked&&(e+=t.skuPrice*t.skuNum)})),e},sumCount(t){return t.shopCart[0]?.cartInfoList?t.shopCart[0]?.cartInfoList.filter((t=>t.isChecked)).length:0}};var z={namespaced:!0,state:V,actions:B,mutations:M,getters:q};const H={tradeList:[],userAddressList:[],data:{}},K={async getTradeList(t){const e=await(0,T.z)(),a=await(0,T.Qj)();if(200!==e.code||200!==a.code)return Promise.reject(new Error(e.message));t.commit("GETTRADELIST",{tradeList:e.data.detailArrayList,address:a.data,data:e.data})}},J={GETTRADELIST(t,e){t.userAddressList=e.address,t.tradeList=e.tradeList,t.data=e.data}},Q={sumPrice(t){let e=0;return t?.tradeList.forEach((t=>{e+=t.skuNum*t.orderPrice})),e}};var Y={namespaced:!0,state:H,actions:K,mutations:J,getters:Q};const W={personCenter:{}},X={async getPersonCenter(t,e){const a=await(0,T.kd)(e.page,e.limit);if(200!=a.code)return Promise.reject("获取订单信息错误，请重新获取");t.commit("GETPERSONCENTER",a.data)}},tt={GETPERSONCENTER(t,e){t.personCenter=e}},et={records(t){return t.personCenter.records||[]}};var at={namespaced:!0,state:W,actions:X,mutations:tt,getters:et};i["default"].use(d.ZP);var rt=new d.ZP.Store({modules:{home:j,search:F,detail:R.Z,shopCart:z,user:P.Z,trade:Y,center:at}});i["default"].use(E.Z);const st=[{path:"/",redirect:"/home"},{path:"/home",component:()=>a.e(589).then(a.bind(a,5589)),meta:{show:!0}},{path:"/login",component:()=>a.e(585).then(a.bind(a,9585)),meta:{show:!1}},{path:"/register",component:()=>a.e(656).then(a.bind(a,7656)),meta:{show:!1}},{path:"/search/:keyword?",component:()=>Promise.resolve().then(a.bind(a,3841)),name:"search",meta:{show:!0}},{path:"/detail/:skuId",component:()=>a.e(838).then(a.bind(a,2838)),meta:{show:!0}},{path:"/addcartsuccess",component:()=>a.e(578).then(a.bind(a,5578)),name:"addCartSuccess",meta:{show:!0}},{path:"/shopcart",component:()=>a.e(892).then(a.bind(a,5892)),name:"shopCart",meta:{show:!0}},{path:"/trade",component:()=>a.e(19).then(a.bind(a,19)),name:"trade",meta:{show:!0}},{path:"/pay",component:()=>a.e(659).then(a.bind(a,3659)),name:"pay",meta:{show:!0},beforeEnter:(t,e,a)=>{"/trade"===e.path?a():a(!1)}},{path:"/paysuccess",component:()=>a.e(404).then(a.bind(a,1404)),name:"paySuccess",meta:{show:!0},beforeEnter:(t,e,a)=>{"/pay"===e.path?a():a(!1)}},{path:"/center",component:()=>a.e(255).then(a.bind(a,1255)),name:"center",meta:{show:!0},redirect:"center/personcenter",children:[{path:"personcenter",component:()=>a.e(140).then(a.bind(a,8140)),name:"personCenter"},{path:"groupcenter",component:()=>a.e(500).then(a.bind(a,3500))}]}];let it=E.Z.prototype.push,nt=E.Z.prototype.replace;E.Z.prototype.push=function(t,e,a){e&&a?it.call(this,t,e,a):it.call(this,t,(()=>{}),(()=>{}))},E.Z.prototype.replace=function(t,e,a){e&&a?nt.call(this,t,e,a):nt.call(this,t,(()=>{}),(()=>{}))};const ot=new E.Z({routes:st,scrollBehavior(){return{y:0}}});ot.beforeEach((async(t,e,a)=>{let r=P.Z.state.token;if(r)if("/login"===t.path||"/register"===t.path)a("/home");else if(P.Z.state.userInfo.name)a();else try{await rt.dispatch("user/getUserInfo"),a()}catch(s){P.Z.state.token="",alert("登录已过期,请重新登录"),a("/login")}else-1!==t.path.indexOf("/center")||-1!==t.path.indexOf("/pay")||-1!==t.path.indexOf("/trade")?(alert("请登录后查看"),a("/login/?redirect="+t.path)):a()}));var ct=ot,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"type-nav"},[a("div",{staticClass:"container"},[a("div",{on:{mouseleave:t.leaveBgc,mouseenter:function(e){t.isShow=!0}}},[a("h2",{staticClass:"all"},[t._v("全部商品分类")]),a("transition",{attrs:{name:"typeNav",appear:!0}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"sort"},[a("div",{staticClass:"all-sort-list2",on:{click:function(e){return e.preventDefault(),t.categorySearch.apply(null,arguments)}}},t._l(t.categoryList,(function(e,r){return a("div",{key:e.categoryId,staticClass:"item",staticStyle:{"margin-bottom":"-3px"}},[a("h3",{class:t.currentIndex===r?"changebgc":"",on:{mouseenter:function(e){return t.changeBgc(r)}}},[a("a",{attrs:{href:"","data-categoryName":e.categoryName,"data-category1Id":e.categoryId}},[t._v(t._s(e.categoryName))])]),a("div",{staticClass:"item-list clearfix",style:{display:t.currentIndex===r?"block":"none"}},[a("div",{staticClass:"subitem"},t._l(e.categoryChild,(function(e){return a("dl",{key:e.categoryId,staticClass:"fore"},[a("dt",[a("a",{attrs:{href:"","data-categoryName":e.categoryName,"data-category2Id":e.categoryId}},[t._v(t._s(e.categoryName))])]),a("dd",t._l(e.categoryChild,(function(e){return a("em",{key:e.categoryId},[a("a",{attrs:{href:"","data-categoryName":e.categoryName,"data-category3Id":e.categoryId}},[t._v(t._s(e.categoryName))])])})),0)])})),0)])])})),0)])])],1),t._m(0)])])])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav"},[a("a",{attrs:{href:"###"}},[t._v("服装城")]),a("a",{attrs:{href:"###"}},[t._v("美妆馆")]),a("a",{attrs:{href:"###"}},[t._v("尚品汇超市")]),a("a",{attrs:{href:"###"}},[t._v("全球购")]),a("a",{attrs:{href:"###"}},[t._v("闪购")]),a("a",{attrs:{href:"###"}},[t._v("团购")]),a("a",{attrs:{href:"###"}},[t._v("有趣")]),a("a",{attrs:{href:"###"}},[t._v("秒杀")])])}],dt=a(4074),mt=a.n(dt),ht={name:"TypeNav",data(){return{currentIndex:-1,isShow:!0}},mounted(){"/home"!==this.$route.path&&(this.isShow=!1)},computed:{...(0,d.rn)({categoryList:t=>t.home.CategoryList})},methods:{changeBgc:mt()((function(t){this.currentIndex=t}),50),leaveBgc(){this.currentIndex=-1,"/home"!==this.$route.path&&(this.isShow=!1)},categorySearch(t){let e=t.target.dataset,{categoryname:a,category1id:r,category2id:s,category3id:i}=e;if(a){let t={name:"search"},e={categoryName:a};r?e.category1Id=r:s?e.category2Id=s:i&&(e.category3Id=i),t.query=e,this.$route.params&&(t.params=this.$route.params),this.$router.push(t)}}}},pt=ht,gt=(0,p.Z)(pt,lt,ut,!1,null,"3843761e",null),ft=gt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mySwiper",staticClass:"swiper-container"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.list,(function(t){return a("div",{key:t.id,staticClass:"swiper-slide"},[a("img",{attrs:{src:t.imgUrl}})])})),0),a("div",{staticClass:"swiper-pagination"}),a("div",{staticClass:"swiper-button-prev"}),a("div",{staticClass:"swiper-button-next"})])},yt=[],_t=a(4794),Ct={props:["list"],name:"MyCarousel",watch:{list:{handler(){this.$nextTick((()=>{new _t.Z(this.$refs.mySwiper,{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))},deep:!0,immediate:!0}}},kt=Ct,bt=(0,p.Z)(kt,vt,yt,!1,null,null,null),It=bt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("button",{attrs:{disabled:1==t.pageNo},on:{click:function(e){return t.sendPageNo(t.pageNo-1)}}},[t._v("上一页")]),t.page.start>1?a("button",{class:1==t.pageNo?"active":"",on:{click:function(e){return t.sendPageNo(1)}}},[t._v("1")]):t._e(),t.page.start>2?a("button",[t._v("···")]):t._e(),t._l(t.page.pageArr,(function(e){return a("button",{key:e,class:t.pageNo==e?"active":"",on:{click:function(a){return t.sendPageNo(e)}}},[t._v(t._s(e))])})),t.pageCount-t.page.end>1?a("button",[t._v("···")]):t._e(),t.pageCount>t.page.end?a("button",{class:t.pageNo==t.pageCount?"active":"",on:{click:function(e){return t.sendPageNo(t.pageCount)}}},[t._v(t._s(t.pageCount))]):t._e(),a("button",{attrs:{disabled:t.pageNo==t.pageCount},on:{click:function(e){return t.sendPageNo(t.pageNo+1)}}},[t._v("下一页")]),a("button",{staticStyle:{"margin-left":"30px"}},[t._v("共 "+t._s(t.pageCount)+" 页")]),a("button",{staticStyle:{"margin-left":"30px"}},[t._v("共 "+t._s(t.total)+" 条")])],2)},Lt=[],St=a(2196),Nt={name:"MyPagination",props:["pageNo","pageSize","total","continue"],computed:{pageCount(){return Math.ceil(this.total/this.pageSize)},page(){let t=0,e=0;this.pageCount<this.continue?(t=1,e=this.pageCount):(t=this.pageNo-parseInt(this.continue/2),e=this.pageNo+parseInt(this.continue/2),t<1&&(t=1,e=this.continue),e>this.pageCount&&(e=this.pageCount,t=e-this.continue+1));let a=[];for(let r=t;r<=e;r++)a.push(r);return{start:t,end:e,pageArr:a}}},methods:{sendPageNo:(0,St.throttle)((function(t){this.$emit("getPageNO",t)}),1500),reGetData(){this.pageNo>this.$store.state.search.SearchList.totalPages&&this.$emit("getPageNO",this.$store.state.search.SearchList.totalPages)}},beforeUpdate(){this.reGetData()}},Et=Nt,Pt=(0,p.Z)(Et,wt,Lt,!1,null,"16579ddf",null),Tt=Pt.exports,At=a(3025),$t=a.n(At),xt=JSON.parse('[{"id":"1","imgUrl":"/images/banner1.jpg"},{"id":"2","imgUrl":"/images/banner2.jpg"},{"id":"3","imgUrl":"/images/banner3.jpg"},{"id":"4","imgUrl":"/images/banner4.jpg"}]'),Ot=JSON.parse('[{"id":"001","name":"家用电器","keywords":["节能补贴","4K电视","空气净化器","IH电饭煲","滚筒洗衣机","电热水器"],"imgUrl":"/images/floor-1-1.png","navList":[{"url":"#","text":"热门"},{"url":"#","text":"大家电"},{"url":"#","text":"生活电器"},{"url":"#","text":"厨房电器"},{"url":"#","text":"应季电器"},{"url":"#","text":"空气/净水"},{"url":"#","text":"高端电器"}],"carouselList":[{"id":"0011","imgUrl":"/images/floor-1-b01.png"},{"id":"0012","imgUrl":"/images/floor-1-b02.png"},{"id":"0013","imgUrl":"/images/floor-1-b03.png"}],"recommendList":["/images/floor-1-2.png","/images/floor-1-3.png","/images/floor-1-5.png","/images/floor-1-6.png"],"bigImg":"/images/floor-1-4.png"},{"id":"002","name":"手机通讯","keywords":["节能补贴2","4K电视2","空气净化器2","IH电饭煲2","滚筒洗衣机2","电热水器2"],"imgUrl":"/images/floor-1-1.png","navList":[{"url":"#","text":"热门2"},{"url":"#","text":"大家电2"},{"url":"#","text":"生活电器2"},{"url":"#","text":"厨房电器2"},{"url":"#","text":"应季电器2"},{"url":"#","text":"空气/净水2"},{"url":"#","text":"高端电器2"}],"carouselList":[{"id":"0011","imgUrl":"/images/floor-1-b01.png"},{"id":"0012","imgUrl":"/images/floor-1-b02.png"},{"id":"0013","imgUrl":"/images/floor-1-b03.png"}],"recommendList":["/images/floor-1-2.png","/images/floor-1-3.png","/images/floor-1-5.png","/images/floor-1-6.png"],"bigImg":"/images/floor-1-4.png"}]'),jt=JSON.parse('{"valuesSkuJson":"{\\"3|5|7\\":6,\\"3|4|7\\":2,\\"2|4|7\\":3,\\"1|5|7\\":5,\\"1|4|7\\":1,\\"2|5|7\\":4}","price":5499,"categoryView":{"id":61,"category1Id":2,"category1Name":"手机","category2Id":13,"category2Name":"手机通讯","category3Id":61,"category3Name":"手机"},"spuSaleAttrList":[{"id":1,"spuId":1,"baseSaleAttrId":1,"saleAttrName":"选择颜色","spuSaleAttrValueList":[{"id":1,"spuId":1,"baseSaleAttrId":1,"saleAttrValueName":"黑色","saleAttrName":"选择颜色","isChecked":"0"}]},{"id":2,"spuId":1,"baseSaleAttrId":2,"saleAttrName":"选择版本","spuSaleAttrValueList":[{"id":4,"spuId":1,"baseSaleAttrId":2,"saleAttrValueName":"64GB","saleAttrName":"选择版本","isChecked":"1"}]},{"id":3,"spuId":1,"baseSaleAttrId":3,"saleAttrName":"选择套装","spuSaleAttrValueList":[{"id":7,"spuId":1,"baseSaleAttrId":3,"saleAttrValueName":" 官方标配","saleAttrName":"选择套装","isChecked":"1"}]}],"skuInfo":{"id":2,"spuId":1,"price":5499,"skuName":"Apple iPhone 11 (A2223) 64GB 红色 移动联通电信双卡双待","skuDesc":"主体\\n入网型号\\nA2223\\n品牌\\nApple\\n产品名称\\niPhone 11\\n上市年份\\n2019年\\n上市月份\\n9月\\n基本信息\\n机身颜色\\n红色\\n机身长度(mm)\\n150.9\\n机身重量(g)\\n194\\n机身材质工艺\\n以官网信息为准\\n机身宽度(mm)\\n75.7\\n机身材质分类\\n玻璃后盖\\n机身厚度(mm)\\n8.3\\n运营商标志或内容\\n无","weight":"0.47","tmId":1,"category3Id":61,"skuDefaultImg":"http://192.168.200.128:8080/xxxx.jpg","isSale":1,"skuImageList":[{"id":6,"skuId":2,"imgName":"63e862164165f483.jpg","imgUrl":"http://192.168.200.128:8080/group1/M00/00/00/wKjIgF42RLOAd5YSAANTQTjaVjQ819.jpg","spuImgId":2,"isDefault":"0"}],"skuAttrValueList":[{"id":6,"attrId":1,"valueId":6,"skuId":2}],"skuSaleAttrValueList":null}}'),Gt=JSON.parse('[{"id":1,"userAddress":"北京市昌平区北七家镇宏福苑南一区0号楼0单元010","userId":2,"provinceId":1,"consignee":"史蒂芬啊","phoneNum":"18101085318","isDefault":"0","regionId":1,"fullAddress":"北京北京市昌平区北七家镇宏福苑南一区0号楼0单元010"},{"id":2,"userAddress":"通州区","userId":2,"provinceId":1,"consignee":"格玛","phoneNum":"18801999967","isDefault":"1","regionId":1,"fullAddress":"北京通州区"},{"id":3,"userAddress":"宏福苑南二区","userId":2,"provinceId":1,"consignee":"李强","phoneNum":"13812341234","isDefault":"0","regionId":1,"fullAddress":"北京宏福苑南二区"}]');$t().mock("/mock/banner",{code:200,data:xt}),$t().mock("/mock/floor",{code:200,data:Ot}),$t().mock("/mock/detail",{code:200,data:jt}),$t().mock("/mock/address",{code:200,data:Gt});var Dt=a(2228);i["default"].use(Dt.Z),i["default"].use(Dt.Z,{preLoad:1.3,error:"dist/error.png",loading:"dist/loading.gif",attempt:1});var Ut=a(3841),Zt=a(1386),Ft=a(9941),Rt=a.n(Ft);i["default"].use(Zt.ZP),Zt.ZP.Validator.localize("zh_CN",{messages:{...Rt().messages,is:t=>`${t}需要与密码相同`},attributes:{phone:"手机号",code:"验证码",password:"密码",password1:"确认密码",isCheck:"协议"}}),Zt.ZP.Validator.extend("isCheck",{validate:t=>t,messages:{en:t=>`${t}必须同意`}}),i["default"].use(s()),i["default"].config.productionTip=!1,i["default"].component("TypeNav",ft),i["default"].component("MyCarousel",It),i["default"].component("MyPagination",Tt),new i["default"]({beforeCreate(){i["default"].prototype.$bus=this},render:t=>t(N),store:rt,router:ct,components:{MySearch:Ut["default"]}}).$mount("#app")},1555:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});a(1703);var r=a(104),s=a(905);const i=function(){const t=localStorage.getItem("USERUUID");if(t)return t;{const t=(0,s.Z)();return localStorage.setItem("USERUUID",t),t}},n={async getDatailList(t,e){const a=await(0,r.cG)(e);200==a.code&&t.commit("GETDETAILLIST",a.data)},async addShopSuccess(t,e){const a=await(0,r.Fu)(e.skuId,e.skuNum);return 200==a.code?"添加成功":new Promise(new Error("添加失败"))}},o={GETDETAILLIST(t,e){t.detailList=e}},c={detailList:{},userUuid:i()},l={categoryView(t){return t.detailList.categoryView||{}},skuInfo(t){return t.detailList.skuInfo||{}},skuImageList(t){return t.detailList.skuInfo.skuImageList||[]},skuSaleAttrValueList(t){return t.detailList.skuInfo.skuSaleAttrValueList||[]},spuSaleAttrList(t){return t.detailList.spuSaleAttrList||[]}};var u={namespaced:!0,actions:n,mutations:o,state:c,getters:l}},9166:function(t,e,a){"use strict";a(1703);var r=a(104),s=a(9071);const i={passport:"",token:(0,s.LP)(),userInfo:{}},n={async getPassPort(t,e){const a=await(0,r.sV)(e);return 200==a.code?(t.commit("GETPASSPORT",a.data),Promise.resolve(a.data)):Promise.reject(new Error("获取验证码失败！"))},async register(t,e){const a=await(0,r.FU)(e);return 200==a.code?"注册成功":Promise.reject(new Error(a.message))},async login(t,e){const a=await(0,r.yq)(e);if(200!=a.code)return Promise.reject(new Error(a.message));(0,s.Fr)(a.data.token),t.commit("LOGIN",a.data)},async getUserInfo(t){const e=await(0,r.z$)();if(200!=e.code)return(0,s.gy)(),t.state.token="",Promise.reject(new Error(e.message));t.commit("GETUSERINFO",e.data)},async logout(t){const e=await(0,r.uf)();return 200==e.code?(t.state.token="",t.state.userInfo={},"退出成功"):Promise.reject(new Error(e.message))}},o={GETPASSPORT(t,e){t.passport=e},LOGIN(t,e){t.token=e.token},GETUSERINFO(t,e){t.userInfo=e}},c={};e["Z"]={namespaced:!0,state:i,actions:n,mutations:o,getters:c}},9071:function(t,e,a){"use strict";a.d(e,{Fr:function(){return r},LP:function(){return s},gy:function(){return i}});const r=t=>localStorage.setItem("TOKEN",t),s=()=>localStorage.getItem("TOKEN"),i=()=>localStorage.removeItem("TOKEN")},587:function(t,e,a){"use strict";t.exports=a.p+"img/logo.d600ca2b.png"}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,i){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],s=t[u][1],i=t[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(o=!1,i<n&&(n=i));if(o){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,s,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,r){return a.f[r](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{19:"326b3101",140:"17190ca5",255:"9d755911",404:"a3785ecb",500:"868ac9ef",578:"0004450e",585:"5bb594a1",589:"b0bf1152",656:"ee739cf6",659:"62093b4e",838:"b9b33092",892:"d6473473"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{19:"bed5353d",140:"1b6583e2",255:"722851f1",404:"b146a920",578:"201d7341",585:"44e8c195",589:"2215c912",656:"dbb0cc9d",659:"ebbd0fe4",838:"870ee897",892:"382c8e53"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue_demo_pinhui_shop:";a.l=function(r,s,i,n){if(t[r])t[r].push(s);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+i){o=d;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",e+i),o.src=r),t[r]=[s];var m=function(e,a){o.onerror=o.onload=null,clearTimeout(h);var s=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((function(t){return t(a)})),e)return e(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p=""}(),function(){var t=function(t,e,a,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var i=function(i){if(s.onerror=s.onload=null,"load"===i.type)a();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=o,s.parentNode.removeChild(s),r(c)}};return s.onerror=s.onload=i,s.href=e,document.head.appendChild(s),s},e=function(t,e){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var s=a[r],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===t||i===e))return s}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){s=n[r],i=s.getAttribute("data-href");if(i===t||i===e)return s}},r=function(r){return new Promise((function(s,i){var n=a.miniCssF(r),o=a.p+n;if(e(n,o))return s();t(r,o,s,i)}))},s={143:0};a.f.miniCss=function(t,e){var a={19:1,140:1,255:1,404:1,578:1,585:1,589:1,656:1,659:1,838:1,892:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=r(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}(),function(){var t={143:0};a.f.j=function(e,r){var s=a.o(t,e)?t[e]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((function(a,r){s=t[e]=[a,r]}));r.push(s[2]=i);var n=a.p+a.u(e),o=new Error,c=function(r){if(a.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,s[1](o)}};a.l(n,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,i,n=r[0],o=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var u=c(a)}for(e&&e(r);l<n.length;l++)i=n[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},r=self["webpackChunkvue_demo_pinhui_shop"]=self["webpackChunkvue_demo_pinhui_shop"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3473)}));r=a.O(r)})();